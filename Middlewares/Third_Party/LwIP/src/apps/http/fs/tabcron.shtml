<!DOCTYPE HTML>
<html>

<head>
  <title>Relay</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link type="image/x-icon" rel="shortcut icon" href="favicon.ico">
  <link rel="stylesheet" href="styles.css">
  <script src="js/jquerymin.js"></script>
  <script src="<!--#lang-->"></script>


</head>

<body>

  <script>
    function getLang(langs) {
      langs.forEach(function (element, key) {
        var fieldNameElement = document.getElementById('lang' + key);
        fieldNameElement.innerHTML = element;
        console.log(key + ': ' + element);
      });
    }

  </script>

  <center>
    <h1>NUCLEO-F767ZI</h1>
    <!--#menu-->

    <h2>Timers</h2>
    <div class="tab">
      <table class="zebra_3" border="1" align="center" id="tab1" class="tab">
        <tr>
          <th>ID <div class="tooltip">
              <a class="support" href="#">(?)
                <span class="tooltiptext" id="lang1"></span>
              </a>
            </div>
          </th>

          <th>Cron
            <div class="tooltip">
              <a class="support" href="#">(?)
                <span class="tooltiptext" id="lang8"></span>
              </a>
            </div>
          </th>
          <th>Script
            <div class="tooltip">
              <a class="support" href="#">(?)
                <span class="tooltiptext" id="lang9"></span>
              </a>
            </div>
          </th>
          <th>Info
            <div class="tooltip">
              <a class="support" href="#">(?)
                <span class="tooltiptext" id="lang10"></span>
              </a>
            </div>
          </th>

          <th>Action
            <div class="tooltip">
              <a class="support" href="#">(?)
                <span class="tooltiptext" id="lang10"></span>
              </a>
            </div>
          </th>
        </tr>

      </table>
    </div>

    <script>
      $(document).ready(function () {
        $.getJSON('cronjson.shtml?ssid=<!--#ssid-->', function (data) {
          var tabcron_data = '';
          var n = 0;
          var z = '';
          
          console.log(data);

          $.each(data, function (key, val) {
            n = val.id + 1;
            tabcron_data += '<tr>';
            tabcron_data += '<td>' + n + '</td>';
            //console.log(val.id);
            tabcron_data += '<td>' + val.cron + '</td>';
            tabcron_data += '<td>' + val.activ + '</td>';
            tabcron_data += '<td>' + val.info + '</td>';
            tabcron_data += '<td><a href=\"formcron.shtml?ssid=<!--#ssid-->&id=' + n + '&tab=5\">Edit cron</a> | <a href=\"tabcron.shtml?ssid=<!--#ssid-->&id=' + n + '&del=' + n + '\">Delete</a></td>';
            tabcron_data += '</tr>';

            n++;
          });
          $('#tab1').append(tabcron_data);
        });
      });
    </script>


    <br><br>
  </center>
</body>

</html>